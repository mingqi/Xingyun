package com.xingyun.activity;

import java.util.ArrayList;
import java.util.List;

import android.os.Bundle;
import android.os.Parcelable;
import android.app.Activity;
import android.support.v4.view.PagerAdapter;
import android.support.v4.view.ViewPager;
import android.view.View;
import android.widget.TextView;

public class EventsActivity extends Activity {

	private ViewPager awesomePager;

	private AwesomePagerAdapter awesomeAdapter;

	private List<View> mListViews;

	/** Called when the activity is first created. */
	@Override
	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_events);

		awesomeAdapter = new AwesomePagerAdapter();
		awesomePager = (ViewPager) findViewById(R.id.eventPager);
		awesomePager.setAdapter(awesomeAdapter);

		mListViews = new ArrayList<View>();
		TextView tv = new TextView(this);
		tv.setText("dddddddddddddddddddddd");

		TextView tv2 = new TextView(this);
		tv2.setText("aaaaaaaaaaaaaaaaaaaaaaaa");

		mListViews.add(tv);
		mListViews.add(tv2);
	}

	private class AwesomePagerAdapter extends PagerAdapter {

		@Override
		public int getCount() {
			return mListViews.size();
		}

		/**
		 * 从指定的position创建page
		 * 
		 * @param container
		 *            ViewPager容器
		 * @param position
		 *            The page position to be instantiated.
		 * @return 返回指定position的page，这里不需要是一个view，也可以是其他的视图容器.
		 */
		@Override
		public Object instantiateItem(View collection, int position) {

			((ViewPager) collection).addView(mListViews.get(position), 0);

			return mListViews.get(position);
		}

		/**
		 * <span style="font-family:'Droid Sans';">从指定的position销毁page</span>
		 * 
		 * 
		 * <span style="font-family:'Droid Sans';">参数同上</span>
		 */
		@Override
		public void destroyItem(View collection, int position, Object view) {
			((ViewPager) collection).removeView(mListViews.get(position));
		}

		@Override
		public boolean isViewFromObject(View view, Object object) {
			return view == (object);
		}

		@Override
		public void finishUpdate(View arg0) {
		}

		@Override
		public void restoreState(Parcelable arg0, ClassLoader arg1) {
		}

		@Override
		public Parcelable saveState() {
			return null;
		}

		@Override
		public void startUpdate(View arg0) {
		}

	}

}
